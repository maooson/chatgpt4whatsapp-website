---
import { SEO } from "astro-seo";
import Footer from "@components/footer.astro";
import Navbar from "@components/navbar/navbar.astro";
import "@fontsource/inter/variable.css";

export interface Props {
  title: string;
  description?: string;
}

const canonicalURL = new URL(Astro.url.pathname, Astro.site).toString();

const resolvedImageWithDomain = new URL(
  "/opengraph.jpg",
  Astro.site
).toString();

const { title, description } = Astro.props;

const makeTitle = title
  ? `${title} | Agent for WhatsApp`
  : "Agent for WhatsApp - AI Chrome Extension";
const ogTitle = title
  ? `${title} - Agent for WhatsApp`
  : "Agent for WhatsApp";
const makeDescription =
  description ??
  "Use AI directly in WhatsApp Web. Draft faster replies, translate messages, and automate routine conversations.";
const keywords = [
  "agent for whatsapp",
  "whatsapp ai assistant",
  "chatgpt extension",
  "ai agent",
  "agent",
  "openclaw",
  "whatsapp automation",
  "reply generator",
].join(", ");
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="keywords" content={keywords} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />

    <!-- <link rel="preload" as="image" href={src} alt="Hero" /> -->
    <SEO
      title={makeTitle}
      description={makeDescription}
      canonical={canonicalURL}
      twitter={{
        creator: "@AIFunFace",
        site: "https://aoq.me",
        card: "summary_large_image",
      }}
      openGraph={{
        basic: {
          url: canonicalURL,
          type: "website",
          title: ogTitle,
          image: resolvedImageWithDomain,
        },
        image: {
          alt: "Agent for WhatsApp - Homepage Screenshot",
        },
      }}
    />
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5874636604758542"
         crossorigin="anonymous"></script>
    <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TZ84NX7M1H"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-TZ84NX7M1H");
    </script>
  </head>
  <body>
    <amp-auto-ads type="adsense" data-ad-client="ca-pub-5874636604758542"></amp-auto-ads>
    <div class="site-bg"></div>
    <Navbar />
    <main>
      <slot />
    </main>
    <Footer />
    <script is:inline>
      document.addEventListener("click", (event) => {
        const target = event.target;
        if (!(target instanceof Element)) return;
        const ctaEl = target.closest("a[data-cta],button[data-cta]");
        if (!ctaEl) return;

        const ctaName = ctaEl.getAttribute("data-cta") || "unknown_cta";
        const ctaLocation = ctaEl.getAttribute("data-location") || "unknown";
        const href = ctaEl.getAttribute("href") || "";

        if (typeof window.gtag === "function") {
          window.gtag("event", "cta_click", {
            cta_name: ctaName,
            cta_location: ctaLocation,
            cta_href: href,
          });
        }
      });
    </script>
    <style is:global>
      :root {
        --brand-50: #fff4fb;
        --brand-100: #ffe6f6;
        --brand-500: #e13ca5;
        --brand-600: #bf2e8b;
        --ink-900: #111827;
        --ink-700: #374151;
        --line-soft: #f1e4ed;
        --card-bg: #ffffff;
      }

      html,
      body {
        background: radial-gradient(1200px 480px at 70% -10%, var(--brand-100), #ffffff 60%);
        color: var(--ink-900);
      }

      main {
        position: relative;
        z-index: 1;
      }

      .site-bg {
        position: fixed;
        inset: 0;
        pointer-events: none;
        z-index: 0;
        background-image:
          radial-gradient(circle at 12% 18%, rgba(225, 60, 165, 0.08), transparent 24%),
          radial-gradient(circle at 88% 34%, rgba(37, 211, 102, 0.07), transparent 22%);
      }

      /* Improve Page speed */
      /* https://css-tricks.com/almanac/properties/c/content-visibility/ */
      img {
        content-visibility: auto;
      }
    </style>
  </body>
</html>
